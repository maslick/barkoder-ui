{"version":3,"sources":["welcome/Welcome.js","header/Header.js","items/QueryAPI.js","items/Secured.js","app/App.js","index.js"],"names":["Welcome","render","react_default","a","createElement","className","Component","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","id","state","name","href","onClick","logout","src","alt","keycloak","tokenParsed","email","sub","history","push","withRouter","Item","item","title","category","description","barcode","quantity","QueryAPI","context","_this2","items","_this3","fetch","window","baseUrl","authorizationHeader","then","res","json","data","setState","catch","err","console","error","toString","headers","Authorization","token","map","_","QueryAPI_Item","key","Secured","componentDidMount","Keycloak","url","kcUrl","realm","clientId","init","onLoad","checkLoginIframe","success","authenticated","src_header_Header","items_QueryAPI","App","react_router_dom","react_router","exact","path","component","ReactDOM","src_app_App","document","getElementById"],"mappings":"qUAUeA,6MAPXC,OAAS,kBACLC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAA,kEAHUE,sCCEhBC,qBACF,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAaVP,OAAS,WACL,OACIC,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKY,GAAG,WACJd,EAAAC,EAAAC,cAAA,QAAMY,GAAG,YAAYP,EAAKQ,MAAMC,KAAhC,QACAhB,EAAAC,EAAAC,cAAA,KAAGe,KAAK,GAAGH,GAAG,SAASI,QAAU,kBAAMX,EAAKY,WAA5C,WAEJnB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,OAAKkB,IAAI,WAAWC,IAAI,UAE5BrB,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,OAAKY,GAAG,UAAR,gBAvBRP,EAAKQ,MAAQ,CACTC,KAAMV,EAAMgB,SAASC,YAAYP,KACjCQ,MAAOlB,EAAMgB,SAASC,YAAYC,MAClCV,GAAIR,EAAMgB,SAASC,YAAYE,KALpBlB,wEAUfG,KAAKJ,MAAMoB,QAAQC,KAAK,YACxBjB,KAAKJ,MAAMgB,SAASH,gBAZPf,cAgCNwB,cAAWvB,GChCpBwB,2BACF,SAAAA,EAAYvB,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmB,IACftB,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqB,GAAAhB,KAAAH,KAAMJ,KACDS,MAAQ,CAACe,KAAMxB,EAAMwB,MAFXvB,wEAMf,OACIP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,OAAhB,WADJ,IAC0CO,KAAKK,MAAMe,KAAKC,MAAM/B,EAAAC,EAAAC,cAAA,WAC5DF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,OAAhB,cAFJ,IAE6CO,KAAKK,MAAMe,KAAKE,SAAShC,EAAAC,EAAAC,cAAA,WAClEF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,OAAhB,iBAHJ,IAGgDO,KAAKK,MAAMe,KAAKG,YAAYjC,EAAAC,EAAAC,cAAA,WACxEF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,OAAhB,aAJJ,IAI4CO,KAAKK,MAAMe,KAAKI,QAAQlC,EAAAC,EAAAC,cAAA,WAChEF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,OAAhB,cAAwCO,KAAKK,MAAMe,KAAKK,iBAbrD/B,cAqDJgC,cAhCX,SAAAA,EAAY9B,EAAO+B,GAAS,IAAAC,EAAA,OAAA9B,OAAAC,EAAA,EAAAD,CAAAE,KAAA0B,IACxBE,EAAA9B,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4B,GAAAvB,KAAAH,KAAMJ,EAAO+B,KACRtB,MAAQ,CAAEwB,MAAO,IAFED,mFAKR,IAAAE,EAAA9B,KAChB+B,MAAMC,OAAOC,QAAU,SAAUjC,KAAKkC,uBACjCC,KAAK,SAAAC,GAAG,OAAIA,EAAIC,SAChBF,KAAK,SAAAG,GAAI,OAAIR,EAAKS,SAAS,CAAEV,MAAOS,MACpCE,MAAM,SAAAC,GAAG,OAAIC,QAAQC,MAAM,4BAA8BF,EAAIG,4DAIlE,OAAK5C,KAAKJ,MAAMgB,SACT,CACHiC,QAAS,CACLC,cAAiB,UAAY9C,KAAKJ,MAAMgB,SAASmC,QAHxB,oCASjC,OACIzD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACTO,KAAKK,MAAMwB,MAAMmB,IAAI,SAAC5B,EAAM6B,GAAP,OACnB3D,EAAAC,EAAAC,cAAC0D,EAAD,CAAM9B,KAAMA,EAAM+B,IAAK/B,EAAKhB,eA1BzBV,aCmBR0D,cApCX,SAAAA,EAAYxD,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoD,IACfvD,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsD,GAAAjD,KAAAH,KAAMJ,KAIVyD,kBAAoB,WAChB,IAAMzC,EAAW0C,IAAS,CACtBC,IAAKvB,OAAOwB,MACZC,MAAOzB,OAAOyB,MACdC,SAAU1B,OAAO0B,WAGrB9C,EAAS+C,KAAK,CAAEC,OAAQ,iBAAkBC,kBAAkB,IAASC,QAAQ,SAAAC,GACzElE,EAAK0C,SAAS,CAAE3B,SAAUA,EAAUmD,cAAeA,OAbxClE,EAiBnBR,OAAS,WACL,OAAIQ,EAAKQ,MAAMO,SACPf,EAAKQ,MAAM0D,cACXzE,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACwE,EAAD,CAAQpD,SAAUf,EAAKQ,MAAMO,WAC7BtB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAACyE,EAAD,CAAUrD,SAAUf,EAAKQ,MAAMO,aAI3BtB,EAAAC,EAAAC,cAAA,wCAIhBF,EAAAC,EAAAC,cAAA,wCA7BJK,EAAKQ,MAAQ,CAAEO,SAAU,KAAMmD,eAAe,GAF/BlE,6BADDH,aCUPwE,oNATX7E,OAAS,kBACLC,EAAAC,EAAAC,cAAC2E,EAAA,EAAD,KACI7E,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAC4E,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWnB,IACjC9D,EAAAC,EAAAC,cAAC4E,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,WAAWC,UAAWnF,oCALtCM,cCDlB8E,IAASnF,OAAOC,EAAAC,EAAAC,cAACiF,EAAD,MAAQC,SAASC,eAAe","file":"static/js/main.0b4fe251.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Welcome extends Component {\n    render = () => (\n        <div className='Welcome'>\n            <p>This is public content</p>\n        </div>\n    );\n}\n\nexport default Welcome;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'\nimport \"./Header.css\"\n\nclass Header extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            name: props.keycloak.tokenParsed.name,\n            email: props.keycloak.tokenParsed.email,\n            id: props.keycloak.tokenParsed.sub\n        };\n    }\n\n    logout() {\n        this.props.history.push('/welcome');\n        this.props.keycloak.logout();\n    }\n\n    render = () => {\n        return (\n            <div>\n                <div id=\"account\">\n                    <span id=\"username\">{this.state.name}&nbsp;</span>\n                    <a href=\"\" id=\"logout\" onClick={ () => this.logout() }>logout</a>\n                </div>\n                <div className=\"logo\">\n                    <img src=\"logo.png\" alt=\"logo\"/>\n                </div>\n                <h1>barkoder.</h1>\n                <div id=\"status\">loading...</div>\n            </div>\n        );\n    };\n}\n\nexport default withRouter(Header);\n","import React, { Component } from 'react';\nimport './List.css'\n\n\nclass Item extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {item: props.item};\n    }\n\n    render() {\n        return (\n            <div className='item_row'>\n                <span className='key'>title: </span> {this.state.item.title}<br/>\n                <span className='key'>category: </span> {this.state.item.category}<br/>\n                <span className='key'>description: </span> {this.state.item.description}<br/>\n                <span className='key'>barcode: </span> {this.state.item.barcode}<br/>\n                <span className='key'>quantity: </span>{this.state.item.quantity}\n            </div>\n        );\n    }\n}\n\n\nclass QueryAPI extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.state = { items: []}\n    }\n\n    componentDidMount() {\n        fetch(window.baseUrl + \"/items\", this.authorizationHeader())\n            .then(res => res.json())\n            .then(data => this.setState({ items: data }))\n            .catch(err => console.error(\"Could not fetch items :( \" + err.toString()));\n    }\n\n    authorizationHeader() {\n        if (!this.props.keycloak) return {};\n        return {\n            headers: {\n                \"Authorization\": \"Bearer \" + this.props.keycloak.token\n            }\n        };\n    }\n\n    render() {\n        return (\n            <div className=\"QueryAPI\">\n                { this.state.items.map((item, _) =>\n                    <Item item={item} key={item.id} />\n                )}\n            </div>\n        );\n    }\n}\n\nexport default QueryAPI;\n","import React, {Component} from 'react';\nimport Keycloak from 'keycloak-js/dist/keycloak';\nimport Logout from '../header/Header';\nimport './Secured.css'\nimport QueryAPI from \"./QueryAPI\";\n\nclass Secured extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { keycloak: null, authenticated: false };\n    }\n\n    componentDidMount = () => {\n        const keycloak = Keycloak({\n            url: window.kcUrl,\n            realm: window.realm,\n            clientId: window.clientId\n        });\n\n        keycloak.init({ onLoad: 'login-required', checkLoginIframe: false }).success(authenticated => {\n            this.setState({ keycloak: keycloak, authenticated: authenticated });\n        });\n    };\n\n    render = () => {\n        if (this.state.keycloak) {\n            if (this.state.authenticated) return (\n                <div>\n                    <Logout keycloak={this.state.keycloak}/>\n                    <div className='data'>\n                        <QueryAPI keycloak={this.state.keycloak} />\n                    </div>\n                </div>\n\n            ); else return (<div>Unable to authenticate!!!</div>);\n        }\n\n        return (\n            <div>Initializing Keycloak...</div>\n        )\n    };\n}\n\nexport default Secured;\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport Welcome from '../welcome/Welcome';\nimport Secured from '../items/Secured';\nimport './App.css';\n\nclass App extends Component {\n    render = () => (\n        <BrowserRouter>\n            <div>\n                <Route exact path=\"/\" component={Secured}/>\n                <Route exact path=\"/welcome\" component={Welcome}/>\n            </div>\n        </BrowserRouter>\n    );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app/App';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}