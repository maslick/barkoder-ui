(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(42)},28:function(e,t,a){},30:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),i=a.n(r),o=(a(28),a(2)),l=a(4),s=a(3),u=a(5),m=a(13),d=a(9),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement("div",{className:"Welcome"},c.a.createElement("p",null,"This is public content"))},a}return Object(u.a)(t,e),t}(n.Component),k=a(20),p=a.n(k),b=a(11),f=(a(30),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).render=function(){return c.a.createElement("div",null,c.a.createElement("div",{id:"account"},c.a.createElement("span",{id:"username"},a.state.name,"\xa0"),c.a.createElement("a",{href:"",id:"logout",onClick:function(){return a.logout()}},"logout")),c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:"logo.png",alt:"logo"})),c.a.createElement("h1",null,"barkoder."),c.a.createElement("div",{id:"status"},"loading..."))},a.state={name:e.keycloak.tokenParsed.name,email:e.keycloak.tokenParsed.email,id:e.keycloak.tokenParsed.sub},a}return Object(u.a)(t,e),Object(b.a)(t,[{key:"logout",value:function(){this.props.history.push("/welcome"),this.props.keycloak.logout()}}]),t}(n.Component)),y=Object(d.d)(f),E=(a(39),a(40),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={item:e.item},a}return Object(u.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"item_row"},c.a.createElement("span",{className:"key"},"title: ")," ",this.state.item.title,c.a.createElement("br",null),c.a.createElement("span",{className:"key"},"category: ")," ",this.state.item.category,c.a.createElement("br",null),c.a.createElement("span",{className:"key"},"description: ")," ",this.state.item.description,c.a.createElement("br",null),c.a.createElement("span",{className:"key"},"barcode: ")," ",this.state.item.barcode,c.a.createElement("br",null),c.a.createElement("span",{className:"key"},"quantity: "),this.state.item.quantity)}}]),t}(n.Component)),j=function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e,a))).state={items:[]},n}return Object(u.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(window.baseUrl+"/items",this.authorizationHeader()).then(function(e){return e.json()}).then(function(t){return e.setState({items:t})}).catch(function(e){return console.error("Could not fetch items :( "+e.toString())})}},{key:"authorizationHeader",value:function(){return this.props.keycloak?{headers:{Authorization:"Bearer "+this.props.keycloak.token}}:{}}},{key:"render",value:function(){return c.a.createElement("div",{className:"QueryAPI"},this.state.items.map(function(e,t){return c.a.createElement(E,{item:e,key:e.id})}))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).componentDidMount=function(){var e=p()({url:window.kcUrl,realm:window.realm,clientId:window.clientId});e.init({onLoad:"login-required",checkLoginIframe:!1}).success(function(t){a.setState({keycloak:e,authenticated:t})})},a.render=function(){return a.state.keycloak?a.state.authenticated?c.a.createElement("div",null,c.a.createElement(y,{keycloak:a.state.keycloak}),c.a.createElement("div",{className:"data"},c.a.createElement(j,{keycloak:a.state.keycloak}))):c.a.createElement("div",null,"Unable to authenticate!!!"):c.a.createElement("div",null,"Initializing Keycloak...")},a.state={keycloak:null,authenticated:!1},a}return Object(u.a)(t,e),t}(n.Component),O=(a(41),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).render=function(){return c.a.createElement(m.a,null,c.a.createElement("div",null,c.a.createElement(d.a,{exact:!0,path:"/",component:v}),c.a.createElement(d.a,{exact:!0,path:"/welcome",component:h})))},a}return Object(u.a)(t,e),t}(n.Component));i.a.render(c.a.createElement(O,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.0b4fe251.chunk.js.map